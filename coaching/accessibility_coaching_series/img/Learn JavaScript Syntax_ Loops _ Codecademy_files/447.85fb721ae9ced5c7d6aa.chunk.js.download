(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[447],{LuU8:function(t,e,c){"use strict";c.d(e,"b",(function(){return pathRedirect})),c.d(e,"a",(function(){return fetchInitialPathContent}));var n=c("rePB"),o=c("GR0a"),i=c("lkI2"),a=c("e18T"),r=c("1xSP"),d=c("p7af"),u=c("kg3G"),b=c("4Ldt"),s=c("y/Yg"),l=c("ePBi"),O=c("ukIe"),j=c("aD9D"),m=c("mpkx"),g=c("FLWv"),p=c("p+FQ"),S=c("VogR"),_=c("fDCE"),f=c("Rab/"),h=c("c8W1");function ownKeys(t,e){var c=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),c.push.apply(c,n)}return c}function _objectSpread(t){for(var e=1;e<arguments.length;e++){var c=null!=arguments[e]?arguments[e]:{};e%2?ownKeys(Object(c),!0).forEach((function(e){Object(n.a)(t,e,c[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(c)):ownKeys(Object(c)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(c,e))}))}return t}const pathNavigate=({path:t,track:e,module:c,contentItem:n},i=!0)=>async(d,u)=>{const b=u(),s=Object(f.j)(b),l=(({path:t,track:e,module:c,contentItem:n})=>({pathSlug:t.slug,trackSlug:e.slug,moduleSlug:c.slug,contentItemType:r.c[n.type].pluralType,contentItemSlug:n.slug}))({path:t,track:e,module:c,contentItem:n});let O=a.e(_objectSpread(_objectSpread({},l),{},{query:s}));i&&(O=Object(o.redirect)(O)),d(O)},pathResume=()=>async(t,e)=>{const c=e(),n=Object(f.g)(c),o=Object(p.e)(c,n.pathSlug),i=Object(s.a)(c,o.id),a=Object(l.d)(e(),i.contentItemIds),r=a?a.content_item_id:i.contentItemIds[i.contentItemIds.length-1];await t(Object(O.b)({ids:[r],minimal:!1}));const d=Object(u.b)(e(),{id:r}),b=i.modules.find((t=>t.content_item_ids.indexOf(d.id)>-1)),j=i.tracks.find((t=>t.module_ids.indexOf(b.id)>-1));t(pathNavigate({path:o,track:j,module:b,contentItem:d}))},pathTrackResume=()=>async(t,e)=>{const c=e(),n=Object(f.g)(c),o=Object(p.e)(c,n.pathSlug),i=Object(_.c)(c,n.trackSlug);if(!i)return void t(pathResume());const a=Object(s.b)(c,i.id),r=Object(l.d)(e(),a.contentItemIds),d=r?r.content_item_id:a.contentItemIds[a.contentItemIds.length-1];await t(Object(O.b)({ids:[d],minimal:!1}));const b=Object(u.b)(e(),{id:d}),j=a.modules.find((t=>t.content_item_ids.indexOf(b.id)>-1));t(pathNavigate({path:o,track:i,module:j,contentItem:b}))},pathRedirect=()=>async(t,e)=>{const c=e(),n=Object(f.g)(c);Object(p.e)(c,n.pathSlug)||await t(Object(b.b)({slug:n.pathSlug,limit:1}));const o=Object(p.e)(e(),n.pathSlug);await t(Object(S.f)(o.track_ids));const i=Object(_.g)(e(),o.track_ids).reduce(((t,e)=>t.concat(e.module_ids)),[]);await t(Object(m.f)(i));const a=Object(g.g)(e(),i).reduce(((t,e)=>t.concat(e.content_item_ids)),[]);await Promise.all([t(Object(d.c)(a)),t(Object(O.b)({ids:a,minimal:!1}))]),n.trackSlug?n.moduleSlug?t((async(t,e)=>{const c=e(),n=Object(f.g)(c),o=Object(p.e)(c,n.pathSlug),i=Object(_.c)(c,n.trackSlug);if(!i)return void t(pathResume());const a=Object(g.d)(c,n.moduleSlug);if(!a)return void t(pathTrackResume());const r=a.content_item_ids,d=Object(l.d)(e(),r),b=d?d.content_item_id:r[r.length-1];await t(Object(O.b)({ids:[b],minimal:!1}));const s=Object(u.b)(e(),{id:b});t(pathNavigate({path:o,track:i,module:a,contentItem:s}))})):t(pathTrackResume()):t(pathResume())},fetchInitialPathContent=()=>async(t,e)=>{const c=Object(f.g)(e());if(Object(p.e)(e(),c.pathSlug)||await t(Object(b.b)({slug:c.pathSlug})),await t(Object(h.a)()),!Object(j.c)(e(),c.contentItemSlug)){const n=Object(f.j)(e()),r=c.pathSlug,d=c.trackSlug,u=c.moduleSlug;Object(i.a)("info","Content Item: ".concat(c.contentItemSlug," doesn't exist in this track; Redirecting")),t(Object(o.redirect)(a.f(_objectSpread(_objectSpread({},{pathSlug:r,trackSlug:d,moduleSlug:u}),{},{query:n}))))}}}}]);
//# sourceMappingURL=447.85fb721ae9ced5c7d6aa.chunk.js.map