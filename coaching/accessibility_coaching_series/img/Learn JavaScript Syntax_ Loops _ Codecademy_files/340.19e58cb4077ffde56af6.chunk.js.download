(window.__LOADABLE_LOADED_CHUNKS__=window.__LOADABLE_LOADED_CHUNKS__||[]).push([[340],{KuOg:function(e,t,s){"use strict";s.r(t),s.d(t,"mochaTest",(function(){return mochaTest}));var r=s("GoyQ"),o=s.n(r),a=s("mwIZ"),n=s.n(a),c=s("5rFJ"),l=s("4Te6"),i=s("ydTQ");const d="test/test.js";function*mochaTest({test_code:e,test_options:t}){const s=n()(t,"withBabel",!0);let r=!1;try{const t=["mocha","-R","json"];if(s){const e="react-16"===i.a.state.workspaceType?"js:@babel/register":"js:babel-register";t.push("--compilers",e,"/home/ccuser/.babelscripts/mocha-setup.js")}t.push(d);const o=t.join(" "),a=new l.a({path:d,content:e});yield Object(c.call)([i.a,i.a.updateFiles],[a]);const n=yield Object(c.call)([i.a,i.a.execute],o);let u,h;const p={friendly:"",tool:"",eval:""};if(n.Content){try{u=JSON.parse(n.Content)}catch(e){h=!0,p.tool=n.Content}if(!h){const e=u,t=e.failures,s=void 0===t?[]:t,o=e.passes,a=void 0===o?[]:o;s.length?s.forEach(((e,t)=>{if(e.err.message&&e.err.message.indexOf("Invalid Chai property")>=0)p.tool="An error occurred while attempting to check your code.",p.eval="Invalid Chai property";else if(e.err.message&&e.err.message.lastIndexOf(":")>=0){const t=e.err.message.lastIndexOf(":"),s=e.err.message.substring(0,t);p.friendly+="".concat(s,"\n")}else e.err&&e.err.type?p.tool+="".concat(e.err.stack,"\n"):0===t&&e.fullTitle&&(p.friendly+="".concat(e.fullTitle.trim()))})):!s.length&&a.length&&(r=!0)}}return{pass:r,errors:p}}catch(e){let t;return t=o()(e)&&e.message?e.message:"Failed to test your code",{pass:r,errors:{tool:t,eval:"",friendly:""}}}}t.default=mochaTest}}]);
//# sourceMappingURL=340.19e58cb4077ffde56af6.chunk.js.map